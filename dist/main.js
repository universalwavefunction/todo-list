(()=>{"use strict";var e={d:(t,d)=>{for(var n in d)e.o(d,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:d[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Lk:()=>a,dT:()=>i,X1:()=>c,PZ:()=>r});const t=(new Date).toLocaleDateString("en-ca");let d="all",n=-1;const l=()=>{const e=(e,t,d,n,l,i,a,o,s,c,r,p)=>({title:e,description:t,duedate:d,type:n,priority:l,completed:i,position:a,editing:o,checked:s,display:c,id:r,taskClass:p}),o=()=>{for(var e=0;e<i.length;e++)i[e].display="<div class='"+i[e].taskClass+"' id='"+i[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+i[e].checked+">"+i[e].title+"</div><button id='edit'>edit</button><div id='newtask-duedate'>"+i[e].duedate+"</div><button id='delete'>x</button></div>";"today"==d?p():"all"==d&&s()},s=()=>{r.innerHTML="";for(var e=0;e<i.length;e++)r.innerHTML+=i[e].display,console.log(i[e]);u(),y(),m()},p=()=>{r.innerHTML="";for(var e=0;e<i.length;e++)i[e].duedate==t&&(r.innerHTML+=i[e].display,console.log(i[e]));u(),y(),m()},u=()=>{document.querySelectorAll("#toggle").forEach(((e,t)=>{e.addEventListener("click",(()=>{i[t].completed=!i[t].completed,"checked"==i[t].checked?(i[t].checked="",i[t].taskClass="task-container",o()):(i[t].checked="checked",i[t].taskClass="completed-task",o())}))}))},y=()=>{document.querySelectorAll("#edit").forEach(((e,d)=>{e.addEventListener("click",(()=>{if(i[d].editing)i[d].title=`<input type='text' id='edit-title-${d}' size='15' value=${i[d].title}>`,i[d].duedate=`<input type='date' id='edit-date-${d}' min=${t} value=${i[d].duedate}>`,o(),i[d].editing=!1;else if(!i[d].editing){let e=document.getElementById("edit-title-"+d),t=document.getElementById("edit-date-"+d);i[d].title=e.value,i[d].duedate=t.value,o(),i[d].editing=!0}}))}))},m=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{i.splice(t,1),"all"==d?s():"today"==d&&p()}))}))};return{tasks:l,task:e,addTask:()=>{const t=e(document.getElementById("title").value,document.getElementById("description").value,document.getElementById("duedate").value,document.getElementById("type").value,document.getElementById("priority").value,document.getElementById("completed").checked,i.length,!0);1==t.completed?(t.checked="checked",t.taskClass="completed-task"):0==t.completed&&(t.checked="",t.taskClass="task-container"),i.push(t),c.reset(),c.style.display="none",a.style.display="none",n+=1,t.id="task-container-"+n,console.log(t.title),o()},displayAllTasks:s,displayTodayTasks:p}},i=[],a=document.getElementById("form-container");a.innerHTML=`\n  <form id="task-form" method="post">\n    <div id="new-task-header">\n      <h3 class="header-text">Add task</h3>\n      <input type="button" value="x" id="exit">\n    </div>\n    <div id="form-body">\n      <input type="text" id="title" placeholder="Task" required>\n      <textarea rows="3" placeholder="Description" id="description"></textarea>\n      <div class="duedate">\n        <label for="duedate">Finish by:</label>\n        <input type="date" id="duedate" name="duedate" min="${t}">\n      </div>\n      <div class="drop-downs">\n        <label for="type">Type:</label>\n        <select name="type" id="type" class="dropdown" required>\n          <option value="Task">Task</option>\n          <option value="project">Project</option>\n        </select>\n        <label for="priority" required>Priority:</label>\n        <select name="priority" id="priority" class="dropdown">\n          <option value="urgent">Urgent</option>\n          <option value="somewhat-urgent">Somewhat urgent</option>\n          <option value="not-urgent">Not urgent</option>\n        </select>\n      </div>\n      <div class="completed">\n        <label for="completed">Completed:</label>\n        <input type="checkbox" name="read" value="yes" id="completed">\n      </div>\n      <div class="center-submit">\n        <input type="button" value="Submit" id="submit-task">\n      </div>\n    </div>\n  </form>`;const o=document.getElementById("new-task"),s=document.getElementById("exit"),c=document.getElementById("task-form"),r=document.getElementById("task-container"),p=document.getElementById("submit-task"),u=document.getElementById("today"),y=document.getElementById("all");o.addEventListener("click",(()=>{c.style.display="flex",a.style.display="flex"})),s.addEventListener("click",(()=>{c.style.display="none",a.style.display="none"})),p.addEventListener("click",(()=>{l().addTask()})),u.addEventListener("click",(()=>{l().displayTodayTasks(),d="today"})),y.addEventListener("click",(()=>{l().displayAllTasks(),d="all"}))})();