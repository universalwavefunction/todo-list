(()=>{"use strict";var e={d:(t,d)=>{for(var i in d)e.o(d,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:d[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Ev:()=>y,v:()=>v,dT:()=>c,X1:()=>s,Ts:()=>m,PZ:()=>p,CU:()=>k,QX:()=>u});const t=[];let d=0;const i=()=>{const e=(e,t,d,i,n,o,l,a,c,s,r)=>({title:e,duedate:t,completed:d,position:i,editing:n,checked:o,display:l,id:a,projectClass:c,displayType:s,projectTasks:r}),o=()=>{m.innerHTML="";for(let e=0;e<t.length;e++)t[e].display="<div class='"+t[e].projectClass+"' id='"+t[e].id+"'><div>"+t[e].title+"</div><div class='buttons'><button id='edit-project'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete-project'>x</button></div></div>",m.innerHTML+=t[e].display;l(),a(),c()},l=()=>{document.querySelectorAll("#edit-project").forEach(((e,d)=>{e.addEventListener("click",(()=>{if(t[d].editing)t[d].title=`<input type='text' class='editing-project' id='edit-project-${t[d].position}'>`,o(),t[d].editing=!1;else if(!t[d].editing){const e=document.getElementById(`edit-project-${t[d].position}`);t[d].title="<button id='project-button' class='side-button'>"+e.value+"</button>",o(),t[d].editing=!0}}))}))},a=()=>{document.querySelectorAll("#delete-project").forEach(((e,d)=>{e.addEventListener("click",(()=>{t.splice(d,1),o()}))}))},c=()=>{document.querySelectorAll("#project-button").forEach(((e,t)=>{e.addEventListener("click",(()=>{for(let e=0;e<k.length;e++)k[e].style.backgroundColor="transparent";e.style.backgroundColor="#deffd1",p.innerHTML="",p.innerHTML+=e.innerText+"<br>",o()}))}))};return{projects:i,project:e,addProject:()=>{const i=e(`<input type="text" id="edit-project-${d}" placeholder="Project" required>`,`<input type="date" id="edit-projectdate-${d}" name="duedate" min="${n}">`,!1,d,!1);!0===i.completed?(i.checked="checked",i.projectClass="completed-project"):!1===i.completed&&(i.checked="",i.projectClass="project-container"),i.projectTasks=[],i.id="project-container-"+d,i.displayType="project"+d,t.push(i),d+=1,o()},updateProjectDisplay:o,editProject:l,removeProject:a}},n=(new Date).toLocaleDateString("en-ca");let o=0,l=[];const a=()=>{const e=(e,t,d,i,n,o,l,a,c)=>({title:e,duedate:t,completed:d,position:i,editing:n,checked:o,display:l,id:a,taskClass:c}),t=()=>{for(let e=0;e<c.length;e++)c[e].display="<div class='"+c[e].taskClass+"' id='"+c[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+c[e].checked+">"+c[e].title+"</div><div id='newtask-duedate'>"+c[e].duedate+"</div><div class='buttons'><button id='edit'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete'>x</button></div></div>";"today"===v?i():"all"===v&&d()},d=()=>{for(let e=0;e<k.length;e++)k[e].style.backgroundColor="transparent";y.style.backgroundColor="#deffd1",p.innerHTML="";for(let e=0;e<c.length;e++)p.innerHTML+=c[e].display;s(),r(),m()},i=()=>{for(let e=0;e<k.length;e++)k[e].style.backgroundColor="transparent";u.style.backgroundColor="#deffd1",p.innerHTML="",l=[];for(let e=0;e<c.length;e++)(c[e].duedate===n||c[e].duedate.includes(`value="${n}"`))&&(l.push(c[e]),p.innerHTML+=c[e].display);s(),r(),m()},s=()=>{let e;document.querySelectorAll("#toggle").forEach(((d,i)=>{d.addEventListener("click",(()=>{"today"===v?e=c.indexOf(l[i]):"all"===v&&(e=i),c[e].completed=!c[e].completed,"checked"===c[e].checked?(c[e].checked="",c[e].taskClass="task-container",t()):(c[e].checked="checked",c[e].taskClass="completed-task",t())}))}))},r=()=>{let e;document.querySelectorAll("#edit").forEach(((d,i)=>{d.addEventListener("click",(()=>{if("today"===v?e=c.indexOf(l[i]):"all"===v&&(e=i),c[e].editing)c[e].title=`<input type='text' id='edit-title-${c[e].position}' size='15' value="${c[e].title}">`,c[e].duedate=`<input type='date' id='edit-date-${c[e].position}' min=${n} value="${c[e].duedate}">`,t(),c[e].editing=!1;else if(!c[e].editing){const d=document.getElementById(`edit-title-${c[e].position}`),i=document.getElementById(`edit-date-${c[e].position}`);c[e].title=d.value,c[e].duedate=i.value,t(),c[e].editing=!0}}))}))},m=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{"all"===v?(c.splice(t,1),d()):"today"===v&&(c.splice(c.indexOf(l[t]),1),l.splice(t,1),i())}))}))};return{tasks:a,task:e,addTask:()=>{if(0===c.length||!0===c[c.length-1].editing){const d=e(`<input type="text" id="edit-title-${o}" placeholder="Task" required>`,`<input type="date" id="edit-date-${o}" name="duedate" min="${n}">`,!1,o,!1);!0===d.completed?(d.checked="checked",d.taskClass="completed-task"):!1===d.completed&&(d.checked="",d.taskClass="task-container"),"today"===v&&(d.duedate=`<input type="date" id="edit-date-${o}" name="duedate" min="${n}" value="${n}">`),c.push(d),d.id="task-container-"+o,o+=1,t()}else if(!1===c[c.length-1].editing){let e;"today"===v?e=c.indexOf(l[l.length-1]):"all"===v&&(e=c.length-1);const d=document.getElementById(`edit-title-${c[e].position}`),i=document.getElementById(`edit-date-${c[e].position}`);c[e].title=d.value,c[e].duedate=i.value,t(),c[e].editing=!0}},displayAllTasks:d,displayTodayTasks:i}},c=[],s=document.getElementById("task-form");s.innerHTML=`\n    <div id="new-task-header">\n      <h3 class="header-text">Add Project</h3>\n      <input type="button" value="x" id="exit">\n    </div>\n    <div id="form-body">\n      <input type="text" id="title" placeholder="Project" required>\n      <textarea rows="3" placeholder="Description" id="description"></textarea>\n      <div class="duedate">\n        <label for="duedate">Finish by:</label>\n        <input type="date" id="duedate" name="duedate" min="${n}">\n      </div>\n      <div class="drop-downs">\n        <label for="type">Type:</label>\n        <select name="type" id="type" class="dropdown" required>\n          <option value="project">Project</option>\n        </select>\n        <label for="priority" required>Priority:</label>\n        <select name="priority" id="priority" class="dropdown">\n          <option value="urgent">Urgent</option>\n          <option value="somewhat-urgent">Somewhat urgent</option>\n          <option value="not-urgent">Not urgent</option>\n        </select>\n      </div>\n      <div class="completed">\n        <label for="completed">Completed:</label>\n        <input type="checkbox" name="read" value="yes" id="completed">\n      </div>\n      <div class="center-submit">\n        <input type="button" value="Submit" id="submit-task">\n      </div>\n    </div>`,document.getElementById("form-container");const r=document.getElementById("new-task"),p=(document.getElementById("exit"),document.getElementById("task-container")),u=(document.getElementById("submit-task"),document.getElementById("today")),y=document.getElementById("all"),m=document.getElementById("project-container"),g=document.getElementById("new-project"),k=document.getElementsByClassName("side-button");let v="all";r.addEventListener("click",(()=>{a().addTask()})),u.addEventListener("click",(()=>{a().displayTodayTasks(),v="today"})),y.addEventListener("click",(()=>{a().displayAllTasks(),v="all"})),g.addEventListener("click",(()=>{i().addProject()}))})();