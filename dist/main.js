(()=>{"use strict";var e={d:(t,d)=>{for(var n in d)e.o(d,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:d[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Ev:()=>p,v:()=>v,dT:()=>o,X1:()=>c,Ts:()=>m,PZ:()=>r,CU:()=>k,QX:()=>u});const t=(new Date).toLocaleDateString("en-ca");let d=0,n=[];const i=()=>{const e=(e,t,d,n,i,a,l,o,c)=>({title:e,duedate:t,completed:d,position:n,editing:i,checked:a,display:l,id:o,taskClass:c}),a=()=>{for(var e=0;e<o.length;e++)o[e].display="<div class='"+o[e].taskClass+"' id='"+o[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+o[e].checked+">"+o[e].title+"</div><div id='newtask-duedate'>"+o[e].duedate+"</div><div class='buttons'><button id='edit'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete'>x</button></div></div>";"today"==v?c():"all"==v&&l()},l=()=>{for(var e=0;e<k.length;e++)k[e].style.backgroundColor="transparent";for(p.style.backgroundColor="#deffd1",r.innerHTML="",e=0;e<o.length;e++)r.innerHTML+=o[e].display;s(),m(),y()},c=()=>{for(var e=0;e<k.length;e++)k[e].style.backgroundColor="transparent";for(u.style.backgroundColor="#deffd1",r.innerHTML="",n=[],e=0;e<o.length;e++)(o[e].duedate==t||o[e].duedate.includes(`value="${t}"`))&&(n.push(o[e]),r.innerHTML+=o[e].display);s(),m(),y()},s=()=>{let e;document.querySelectorAll("#toggle").forEach(((t,d)=>{t.addEventListener("click",(()=>{"today"==v?e=o.indexOf(n[d]):"all"==v&&(e=d),o[e].completed=!o[e].completed,"checked"==o[e].checked?(o[e].checked="",o[e].taskClass="task-container",a()):(o[e].checked="checked",o[e].taskClass="completed-task",a())}))}))},m=()=>{let e;document.querySelectorAll("#edit").forEach(((d,i)=>{d.addEventListener("click",(()=>{if("today"==v?e=o.indexOf(n[i]):"all"==v&&(e=i),o[e].editing)o[e].title=`<input type='text' id='edit-title-${o[e].position}' size='15' value="${o[e].title}">`,o[e].duedate=`<input type='date' id='edit-date-${o[e].position}' min=${t} value="${o[e].duedate}">`,a(),o[e].editing=!1;else if(!o[e].editing){let t=document.getElementById(`edit-title-${o[e].position}`),d=document.getElementById(`edit-date-${o[e].position}`);o[e].title=t.value,o[e].duedate=d.value,a(),o[e].editing=!0}}))}))},y=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{"all"==v?(o.splice(t,1),l()):"today"==v&&(o.splice(o.indexOf(n[t]),1),n.splice(t,1),c())}))}))};return{tasks:i,task:e,addTask:()=>{const n=e(`<input type="text" id="edit-title-${d}" placeholder="Task" required>`,`<input type="date" id="edit-date-${d}" name="duedate" min="${t}">`,!1,d,!1);1==n.completed?(n.checked="checked",n.taskClass="completed-task"):0==n.completed&&(n.checked="",n.taskClass="task-container"),"today"==v&&(n.duedate=`<input type="date" id="edit-date-${d}" name="duedate" min="${t}" value="${t}">`),o.push(n),n.id="task-container-"+d,d+=1,a()},displayAllTasks:l,displayTodayTasks:c}};let a=0;const l=()=>{const e=(e,t,d)=>({title:e,description:t,duedate:d});return{projects:l,project:e,addProject:()=>{const d=e(`<input type="text" id="edit-project-${a}" placeholder="Project" required>`,`<input type="date" id="edit-projectdate-${a}" name="duedate" min="${t}">`);m.innerHTML+=d.title,a+=1}}},o=[],c=document.getElementById("task-form");c.innerHTML=`\n    <div id="new-task-header">\n      <h3 class="header-text">Add Project</h3>\n      <input type="button" value="x" id="exit">\n    </div>\n    <div id="form-body">\n      <input type="text" id="title" placeholder="Project" required>\n      <textarea rows="3" placeholder="Description" id="description"></textarea>\n      <div class="duedate">\n        <label for="duedate">Finish by:</label>\n        <input type="date" id="duedate" name="duedate" min="${t}">\n      </div>\n      <div class="drop-downs">\n        <label for="type">Type:</label>\n        <select name="type" id="type" class="dropdown" required>\n          <option value="project">Project</option>\n        </select>\n        <label for="priority" required>Priority:</label>\n        <select name="priority" id="priority" class="dropdown">\n          <option value="urgent">Urgent</option>\n          <option value="somewhat-urgent">Somewhat urgent</option>\n          <option value="not-urgent">Not urgent</option>\n        </select>\n      </div>\n      <div class="completed">\n        <label for="completed">Completed:</label>\n        <input type="checkbox" name="read" value="yes" id="completed">\n      </div>\n      <div class="center-submit">\n        <input type="button" value="Submit" id="submit-task">\n      </div>\n    </div>`,document.getElementById("form-container");const s=document.getElementById("new-task"),r=(document.getElementById("exit"),document.getElementById("task-container")),u=(document.getElementById("submit-task"),document.getElementById("today")),p=document.getElementById("all"),m=document.getElementById("project-container"),y=document.getElementById("new-project"),k=document.getElementsByClassName("side-button");let v="all";s.addEventListener("click",(()=>{i().addTask()})),u.addEventListener("click",(()=>{i().displayTodayTasks(),v="today"})),p.addEventListener("click",(()=>{i().displayAllTasks(),v="all"})),y.addEventListener("click",(()=>{l().addProject()}))})();