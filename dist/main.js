(()=>{"use strict";var e={d:(t,d)=>{for(var n in d)e.o(d,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:d[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{v:()=>k,dT:()=>a,X1:()=>l,PZ:()=>r});const t=(new Date).toLocaleDateString("en-ca");let d=0,n=[];const i=()=>{const e=(e,t,d,n,i,a,l,o,s)=>({title:e,duedate:t,completed:d,position:n,editing:i,checked:a,display:l,id:o,taskClass:s}),l=()=>{for(var e=0;e<a.length;e++)a[e].display="<div class='"+a[e].taskClass+"' id='"+a[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+a[e].checked+">"+a[e].title+"</div><div id='newtask-duedate'>"+a[e].duedate+"</div><div class='buttons'><button id='edit'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete'>x</button></div></div>";"today"==k?s():"all"==k&&o()},o=()=>{r.innerHTML="";for(var e=0;e<a.length;e++)r.innerHTML+=a[e].display;c(),p(),u()},s=()=>{r.innerHTML="",n=[];for(var e=0;e<a.length;e++)(a[e].duedate==t||a[e].duedate.includes(`value="${t}"`))&&(n.push(a[e]),r.innerHTML+=a[e].display);c(),p(),u()},c=()=>{let e;document.querySelectorAll("#toggle").forEach(((t,d)=>{t.addEventListener("click",(()=>{"today"==k?e=a.indexOf(n[d]):"all"==k&&(e=d),a[e].completed=!a[e].completed,"checked"==a[e].checked?(a[e].checked="",a[e].taskClass="task-container",l()):(a[e].checked="checked",a[e].taskClass="completed-task",l())}))}))},p=()=>{let e;document.querySelectorAll("#edit").forEach(((d,i)=>{d.addEventListener("click",(()=>{if("today"==k?e=a.indexOf(n[i]):"all"==k&&(e=i),a[e].editing)a[e].title=`<input type='text' id='edit-title-${a[e].position}' size='15' value="${a[e].title}">`,a[e].duedate=`<input type='date' id='edit-date-${a[e].position}' min=${t} value="${a[e].duedate}">`,l(),a[e].editing=!1;else if(!a[e].editing){let t=document.getElementById(`edit-title-${a[e].position}`),d=document.getElementById(`edit-date-${a[e].position}`);a[e].title=t.value,a[e].duedate=d.value,l(),a[e].editing=!0}}))}))},u=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{"all"==k?(a.splice(t,1),o()):"today"==k&&(a.splice(a.indexOf(n[t]),1),n.splice(t,1),s())}))}))};return{tasks:i,task:e,addTask:()=>{const n=e(`<input type="text" id="edit-title-${d}" placeholder="Task" required>`,`<input type="date" id="edit-date-${d}" name="duedate" min="${t}">`,!1,d,!1);1==n.completed?(n.checked="checked",n.taskClass="completed-task"):0==n.completed&&(n.checked="",n.taskClass="task-container"),"today"==k&&(n.duedate=`<input type="date" id="edit-date-${d}" name="duedate" min="${t}" value="${t}">`),a.push(n),n.id="task-container-"+d,d+=1,l()},displayAllTasks:o,displayTodayTasks:s}},a=[],l=document.getElementById("task-form");l.innerHTML=`\n    <div id="new-task-header">\n      <h3 class="header-text">Add Project</h3>\n      <input type="button" value="x" id="exit">\n    </div>\n    <div id="form-body">\n      <input type="text" id="title" placeholder="Project" required>\n      <textarea rows="3" placeholder="Description" id="description"></textarea>\n      <div class="duedate">\n        <label for="duedate">Finish by:</label>\n        <input type="date" id="duedate" name="duedate" min="${t}">\n      </div>\n      <div class="drop-downs">\n        <label for="type">Type:</label>\n        <select name="type" id="type" class="dropdown" required>\n          <option value="project">Project</option>\n        </select>\n        <label for="priority" required>Priority:</label>\n        <select name="priority" id="priority" class="dropdown">\n          <option value="urgent">Urgent</option>\n          <option value="somewhat-urgent">Somewhat urgent</option>\n          <option value="not-urgent">Not urgent</option>\n        </select>\n      </div>\n      <div class="completed">\n        <label for="completed">Completed:</label>\n        <input type="checkbox" name="read" value="yes" id="completed">\n      </div>\n      <div class="center-submit">\n        <input type="button" value="Submit" id="submit-task">\n      </div>\n    </div>`;const o=document.getElementById("form-container"),s=document.getElementById("new-task"),c=document.getElementById("exit"),r=document.getElementById("task-container"),p=document.getElementById("submit-task"),u=document.getElementById("today"),y=document.getElementById("all"),m=(document.getElementById("project-container"),document.getElementById("new-project"));let k="all";s.addEventListener("click",(()=>{i().addTask()})),u.addEventListener("click",(()=>{i().displayTodayTasks(),k="today"})),y.addEventListener("click",(()=>{i().displayAllTasks(),k="all"})),m.addEventListener("click",(()=>{o.style.display="flex",l.style.display="flex"})),c.addEventListener("click",(()=>{o.style.display="none",l.style.display="none",l.reset()})),p.addEventListener("click",(()=>{o.style.display="none",l.style.display="none",l.reset()}))})();