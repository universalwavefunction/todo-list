(()=>{const e=[],t=[],d=document.getElementById("new-task"),n=document.getElementById("exit"),l=document.getElementById("task-form"),c=document.getElementById("task-container"),o=document.getElementById("submit-task"),s=document.getElementById("form-container");d.addEventListener("click",(()=>{l.style.display="flex",s.style.display="flex"})),n.addEventListener("click",(()=>{l.style.display="none",s.style.display="none"})),o.addEventListener("click",(()=>{a().addTask()}));const a=()=>{const d=(e,t,d,n,l,c,i,o,s)=>({title:e,description:t,duedate:d,type:n,priority:l,completed:c,position:i,checked:o,display:s}),n=()=>{for(i in c.innerHTML="",t)c.innerHTML+=t[i];o(),l.reset(),l.style.display="none",s.style.display="none"},o=()=>{document.querySelectorAll("#delete").forEach(((e,d)=>{e.addEventListener("click",(()=>{t.splice(d,1),n()}))}))};return{tasks:a,task:d,addTask:()=>{const l=d(document.getElementById("title").value,document.getElementById("description").value,document.getElementById("duedate").value,document.getElementById("type").value,document.getElementById("priority").value,document.getElementById("completed").checked,e.length);1==l.completed&&(l.checked="checked"),l.display="<div class='task-container'><div id='newtask-completed'><input type='checkbox' value='yes' id='toggle'"+l.checked+">"+l.title+"</div><button id='details'>details</button><div id='newtask-duedate'>"+l.duedate+"</div><button id='delete'>x</button></div>",e.push(l),t.push(l.display),n(),document.querySelectorAll("#toggle").forEach(((t,d)=>{t.addEventListener("click",(()=>{e[d].completed!=t.checked&&(e[d].completed=t.checked)}))}))},taskDisplay:n}}})();