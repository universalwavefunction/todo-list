(()=>{"use strict";var e={d:(t,d)=>{for(var i in d)e.o(d,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:d[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Ev:()=>y,v:()=>k,dT:()=>c,X1:()=>s,Ts:()=>m,PZ:()=>p,CU:()=>v,QX:()=>u});const t=(new Date).toLocaleDateString("en-ca");let d=0,i=[];const n=()=>{const e=(e,t,d,i,n,l,o,a,c)=>({title:e,duedate:t,completed:d,position:i,editing:n,checked:l,display:o,id:a,taskClass:c}),l=()=>{for(var e=0;e<c.length;e++)c[e].display="<div class='"+c[e].taskClass+"' id='"+c[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+c[e].checked+">"+c[e].title+"</div><div id='newtask-duedate'>"+c[e].duedate+"</div><div class='buttons'><button id='edit'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete'>x</button></div></div>";"today"==k?a():"all"==k&&o()},o=()=>{for(var e=0;e<v.length;e++)v[e].style.backgroundColor="transparent";for(y.style.backgroundColor="#deffd1",p.innerHTML="",e=0;e<c.length;e++)p.innerHTML+=c[e].display;s(),r(),m()},a=()=>{for(var e=0;e<v.length;e++)v[e].style.backgroundColor="transparent";for(u.style.backgroundColor="#deffd1",p.innerHTML="",i=[],e=0;e<c.length;e++)(c[e].duedate==t||c[e].duedate.includes(`value="${t}"`))&&(i.push(c[e]),p.innerHTML+=c[e].display);s(),r(),m()},s=()=>{let e;document.querySelectorAll("#toggle").forEach(((t,d)=>{t.addEventListener("click",(()=>{"today"==k?e=c.indexOf(i[d]):"all"==k&&(e=d),c[e].completed=!c[e].completed,"checked"==c[e].checked?(c[e].checked="",c[e].taskClass="task-container",l()):(c[e].checked="checked",c[e].taskClass="completed-task",l())}))}))},r=()=>{let e;document.querySelectorAll("#edit").forEach(((d,n)=>{d.addEventListener("click",(()=>{if("today"==k?e=c.indexOf(i[n]):"all"==k&&(e=n),c[e].editing)c[e].title=`<input type='text' id='edit-title-${c[e].position}' size='15' value="${c[e].title}">`,c[e].duedate=`<input type='date' id='edit-date-${c[e].position}' min=${t} value="${c[e].duedate}">`,l(),c[e].editing=!1;else if(!c[e].editing){let t=document.getElementById(`edit-title-${c[e].position}`),d=document.getElementById(`edit-date-${c[e].position}`);c[e].title=t.value,c[e].duedate=d.value,l(),c[e].editing=!0}}))}))},m=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{"all"==k?(c.splice(t,1),o()):"today"==k&&(c.splice(c.indexOf(i[t]),1),i.splice(t,1),a())}))}))};return{tasks:n,task:e,addTask:()=>{if(0==c.length||1==c[c.length-1].editing){const i=e(`<input type="text" id="edit-title-${d}" placeholder="Task" required>`,`<input type="date" id="edit-date-${d}" name="duedate" min="${t}">`,!1,d,!1);1==i.completed?(i.checked="checked",i.taskClass="completed-task"):0==i.completed&&(i.checked="",i.taskClass="task-container"),"today"==k&&(i.duedate=`<input type="date" id="edit-date-${d}" name="duedate" min="${t}" value="${t}">`),c.push(i),i.id="task-container-"+d,d+=1,l()}else if(0==c[c.length-1].editing){let e;"today"==k?e=c.indexOf(i[i.length-1]):"all"==k&&(e=c.length-1);let t=document.getElementById(`edit-title-${c[e].position}`),d=document.getElementById(`edit-date-${c[e].position}`);c[e].title=t.value,c[e].duedate=d.value,l(),c[e].editing=!0}},displayAllTasks:o,displayTodayTasks:a}};let l=[],o=0;const a=()=>{const e=(e,t,d,i,n,l,o,a,c,s)=>({title:e,duedate:t,completed:d,position:i,editing:n,checked:l,display:o,id:a,projectClass:c,displayType:s}),d=()=>{m.innerHTML="";for(var e=0;e<l.length;e++)l[e].display="<div class='"+l[e].projectClass+"' id='"+l[e].id+"'><button>"+l[e].title+"</button></div><div class='buttons'><button id='edit-project'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete-project'>x</button></div></div>",m.innerHTML+=l[e].display,p.innerHTML="",p.innerHTML+=l[e].display;i(),n()},i=()=>{document.querySelectorAll("#edit-project").forEach(((e,t)=>{e.addEventListener("click",(()=>{if(l[t].editing)l[t].title=`<input type='text' id='edit-project-${l[t].position}' size='10' value="${l[t].title}">`,d(),l[t].editing=!1;else if(!l[t].editing){let e=document.getElementById(`edit-project-${l[t].position}`);l[t].title=e.value,d(),l[t].editing=!0}}))}))},n=()=>{document.querySelectorAll("#delete-project").forEach(((e,t)=>{e.addEventListener("click",(()=>{l.splice(t,1),d()}))}))};return{projects:a,project:e,addProject:()=>{const i=e(`<input type="text" id="edit-project-${o}" placeholder="Project" required>`,`<input type="date" id="edit-projectdate-${o}" name="duedate" min="${t}">`,!1,o,!1);1==i.completed?(i.checked="checked",i.projectClass="completed-project"):0==i.completed&&(i.checked="",i.projectClass="project-container"),i.id="project-container-"+o,i.displayType="project"+o,l.push(i),o+=1,d()},updateProjectDisplay:d,editProject:i,removeProject:n}},c=[],s=document.getElementById("task-form");s.innerHTML=`\n    <div id="new-task-header">\n      <h3 class="header-text">Add Project</h3>\n      <input type="button" value="x" id="exit">\n    </div>\n    <div id="form-body">\n      <input type="text" id="title" placeholder="Project" required>\n      <textarea rows="3" placeholder="Description" id="description"></textarea>\n      <div class="duedate">\n        <label for="duedate">Finish by:</label>\n        <input type="date" id="duedate" name="duedate" min="${t}">\n      </div>\n      <div class="drop-downs">\n        <label for="type">Type:</label>\n        <select name="type" id="type" class="dropdown" required>\n          <option value="project">Project</option>\n        </select>\n        <label for="priority" required>Priority:</label>\n        <select name="priority" id="priority" class="dropdown">\n          <option value="urgent">Urgent</option>\n          <option value="somewhat-urgent">Somewhat urgent</option>\n          <option value="not-urgent">Not urgent</option>\n        </select>\n      </div>\n      <div class="completed">\n        <label for="completed">Completed:</label>\n        <input type="checkbox" name="read" value="yes" id="completed">\n      </div>\n      <div class="center-submit">\n        <input type="button" value="Submit" id="submit-task">\n      </div>\n    </div>`,document.getElementById("form-container");const r=document.getElementById("new-task"),p=(document.getElementById("exit"),document.getElementById("task-container")),u=(document.getElementById("submit-task"),document.getElementById("today")),y=document.getElementById("all"),m=document.getElementById("project-container"),g=document.getElementById("new-project"),v=document.getElementsByClassName("side-button");let k="all";r.addEventListener("click",(()=>{n().addTask()})),u.addEventListener("click",(()=>{n().displayTodayTasks(),k="today"})),y.addEventListener("click",(()=>{n().displayAllTasks(),k="all"})),g.addEventListener("click",(()=>{a().addProject(),k="project"}))})();