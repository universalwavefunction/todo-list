(()=>{"use strict";var e={d:(t,d)=>{for(var i in d)e.o(d,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:d[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{v:()=>o,dT:()=>a,PZ:()=>l});const t=(new Date).toLocaleDateString("en-ca");let d=0;const i=()=>{const e=(e,t,d,i,a,n,l,c,s)=>({title:e,duedate:t,completed:d,position:i,editing:a,checked:n,display:l,id:c,taskClass:s}),n=()=>{for(var e=0;e<a.length;e++)a[e].display="<div class='"+a[e].taskClass+"' id='"+a[e].id+"'><div id='newtask-completed'><input type='checkbox' id='toggle'"+a[e].checked+">"+a[e].title+"</div><div id='newtask-duedate'>"+a[e].duedate+"</div><div class='buttons'><button id='edit'><img src=\"edit-button.svg\" alt=\"Edit\" height=\"12px\"></button><button id='delete'>x</button></div></div>";"today"==o?s():"all"==o&&c()},c=()=>{l.innerHTML="";for(var e=0;e<a.length;e++)l.innerHTML+=a[e].display;u(),r(),k()},s=()=>{l.innerHTML="";for(var e=0;e<a.length;e++)(a[e].duedate==t||a[e].duedate.includes(`value="${t}"`))&&(l.innerHTML+=a[e].display);u(),r(),k()},u=()=>{const e=document.querySelectorAll("#toggle");console.log(e),e.forEach(((e,t)=>{e.addEventListener("click",(()=>{a[t].completed=!a[t].completed,"checked"==a[t].checked?(a[t].checked="",a[t].taskClass="task-container",n()):(a[t].checked="checked",a[t].taskClass="completed-task",n())}))}))},r=()=>{document.querySelectorAll("#edit").forEach(((e,d)=>{e.addEventListener("click",(()=>{if(a[d].editing)a[d].title=`<input type='text' id='edit-title-${a[d].position}' size='15' value="${a[d].title}">`,a[d].duedate=`<input type='date' id='edit-date-${a[d].position}' min=${t} value="${a[d].duedate}">`,n(),a[d].editing=!1;else if(!a[d].editing){let e=document.getElementById(`edit-title-${a[d].position}`),t=document.getElementById(`edit-date-${a[d].position}`);a[d].title=e.value,a[d].duedate=t.value,n(),a[d].editing=!0}}))}))},k=()=>{document.querySelectorAll("#delete").forEach(((e,t)=>{e.addEventListener("click",(()=>{a.splice(t,1),"all"==o?c():"today"==o&&s()}))}))};return{tasks:i,task:e,addTask:()=>{const i=e(`<input type="text" id="edit-title-${d}" placeholder="Task" required>`,`<input type="date" id="edit-date-${d}" name="duedate" min="${t}">`,!1,d,!1);1==i.completed?(i.checked="checked",i.taskClass="completed-task"):0==i.completed&&(i.checked="",i.taskClass="task-container"),"today"==o&&(i.duedate=`<input type="date" id="edit-date-${d}" name="duedate" min="${t}" value="${t}">`),a.push(i),i.id="task-container-"+d,d+=1,n()},displayAllTasks:c,displayTodayTasks:s}},a=[],n=document.getElementById("new-task"),l=(document.getElementById("exit"),document.getElementById("task-form"),document.getElementById("task-container")),c=(document.getElementById("submit-task"),document.getElementById("today")),s=document.getElementById("all");document.getElementById("projects"),document.getElementById("new-project");let o="all";n.addEventListener("click",(()=>{i().addTask()})),c.addEventListener("click",(()=>{i().displayTodayTasks(),o="today"})),s.addEventListener("click",(()=>{i().displayAllTasks(),o="all"}))})();